<section class="banner-section">
  <div
    class="banner-bg bg_img bg-fixed"
    data-background="assets/images/banner/ok.jpg"
  ></div>
  <div class="container">
    <div class="banner-content">
      <h1 class="title cd-headline clip">
        <span class="d-block">WATCH AND PUT A REVIEW </span> FOR MOVIES
        <span class="color-theme cd-words-wrapper p-0 m-0">
          <b class="is-visible"> </b>
          <b>ACTION</b>
          <b>COMIDY</b>
          <b>HORROR</b>
          <b>FAMILY</b>
        </span>
      </h1>
      <p>ENJOY WITH OUR WEBSITE MOVIES</p>
    </div>
  </div>
</section>
<section class="search-ticket-section padding-top pt-lg-0">
  <div class="container">
    <div
      class="search-tab bg_img"
      data-background="assets/images/ticket/ticket-bg01.jpg"
    >
      <div class="row align-items-center mb--20">
        <div class="col-lg-6 mb-20">
          <div class="search-ticket-header">
            <h6 class="category">welcome to cin√©mato</h6>
            <h3 class="title">what are you looking for</h3>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="movie-section padding-top padding-bottom">
  <div class="container">
    <div class="row flex-wrap-reverse justify-content-center">
      <div class="col-12">
        <div *ngFor="let genre of genresByFilm | keyvalue">
          <div class="filter-tab tab">
            <div class="section-header-1">
              <h2 class="title">{{ genre.key }} Movies</h2>
            </div>
            <div class="tab-area">
              <div class="tab-item active">
                <div class="movie-area mb-10">
                  <div class="movie-list" *ngFor="let film of genre.value">
                    <div class="movie-thumb c-thumb">
                      <a (click)="filmdetails(film.id)">
                        <img
                          [src]="'data:image/jpeg;base64,' + film.imageBase"
                          alt="{{ film.imageBase }}"
                          width="300"
                          height="300"
                          alt="movie"
                        />
                      </a>
                    </div>
                    <div class="movie-content bg-one">
                      <h5 class="title">
                        <a href="movie-details.html">{{ film.title }} </a>
                      </h5>
                      <p class="duration">{{ film.duree }} min</p>
                      <div class="movie-tags">
                        <a href="#0">{{ film.genre.nomGenere }}</a>
                      </div>
                      <div class="release">
                        <span>Release Date : </span>
                        <a href="#0">{{
                          film.releaseDate | date : "yyyy:MM:dd"
                        }}</a>
                      </div>
                      <ul class="movie-rating-percent">
                        <li *ngIf="isLogin()">
                          <div class="react-item">
                            <a href="#0" class="popup-video">
                              <button
                                (click)="getfilmByid(film.id)"
                                data-toggle="modal"
                                data-target="#exampleModalCenter"
                                class="btn btn-success"
                              >
                                <i class="fa fa-book"></i> book now
                              </button>
                            </a>
                          </div>
                        </li>
                      </ul>
                      <div class="book-area">
                        <div>
                          <div *ngFor="let c of calanList">
                            <b *ngIf="c.films.id == film.id">
                              This movie will be released at this time :
                              {{ c.showDate | date : "dd-MM-yyyy HH:mm" }}</b
                            >
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<div
  class="modal fade"
  id="exampleModalCenter"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form #form="ngForm" (ngSubmit)="envoyerReservation(form)">
          <div class="form-group">
            <label> Nom de Film </label>
            <input
              class="form-control"
              [(ngModel)]="reserv.films.id"
              name="films"
              value="{{ film.title }}"
            />
          </div>
          <div class="form-group">
            <label> Choisir date </label>
            <select class="form-control" [(ngModel)]="reserv.date" name="date">
              <option *ngFor="let c of listbyFilm" value="{{ c.showDate }}">
                {{ c.showDate | date : "dd-MM-yyyy HH:mm" }}
              </option>
            </select>
          </div>

          <input
            type="text"
            [(ngModel)]="reserv.utilisateurs.id"
            name="utilisateurs"
            value="{{ client.id }}"
          />
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <button type="submit" class="btn btn-primary">Save changes</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
